!function(){"use strict";var e,n={"./src/index.tsx":function(e,n,t){var r=t("./node_modules/react/jsx-runtime.js"),o=t("./node_modules/react/index.js"),a=t("./node_modules/react-dom/client.js"),s=t("./node_modules/classnames/index.js"),i=t.n(s),u=function(){return u=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},u.apply(this,arguments)},c=(0,o.forwardRef)((function(e,n){var t,o=e.children,a=e.className,s=e.size,c=void 0===s?"medium":s,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","className","size"]);return(0,r.jsx)("button",u({},l,{ref:n,className:i()(a,"button",(t={},t[c]=Boolean(c),t)),children:o}))})),l=function(){return l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l.apply(this,arguments)},f=(0,o.forwardRef)((function(e,n){var t=e.className,o=e.disabled,a=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["className","disabled"]);return(0,r.jsx)("input",l({},a,{ref:n,disabled:o,className:i()(t,"input")}))})),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},d.apply(this,arguments)},m={},p=function(e,n){return Object.values(e).filter((function(e){return e.name===n}))},v=function(e){var n=e.emma-e.francois;return n>0?"François doit ".concat((Math.abs(n)/2).toFixed(2),"€ à Emma."):n<0?"Emma doit ".concat((Math.abs(n)/2).toFixed(2),"€ à François."):"Les dépenses sont équilibrées."},x=function(e){var n=e.amount,t=e.id,a=e.removeExpense,s=(0,o.useCallback)((function(){return a(t)}),[]);return(0,r.jsxs)("li",{className:"expense-item",children:[n,"€",(0,r.jsx)(c,{onClick:s,size:"small",children:"supprimer"})]},t)},h=function(e){var n=e.items,t=e.removeExpense;return(0,r.jsx)("ul",{className:"expense-list",children:n.map((function(e){var n=e.amount,o=e.id;return(0,r.jsx)(x,{amount:n,id:o,removeExpense:t},o)}))})},j=function(e){var n,t=e.name,a=e.title,s=e.totalAmount,i=e.addExpense,u=e.amount,l=(0,o.useCallback)((function(){return i(t)}),[t,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h4",{children:[a,": ",s,"€"]}),(0,r.jsxs)(c,{onClick:l,disabled:!u,children:["+ ",(n=u,"string"==typeof n||isNaN(n)?"0":n.toFixed(2)),"€ à ",a]})]})},b="EXPENSES",O=function(){var e=localStorage.getItem(b);return e?JSON.parse(e):m},y=function(){return y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},y.apply(this,arguments)},g=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],a=function(){var e=(0,o.useState)(O),n=e[0],t=e[1],r=(0,o.useCallback)((function(e){t((function(n){var t="function"==typeof e?e(n):e;return function(e){localStorage.setItem(b,JSON.stringify(e))}(t),t}))}),[]);return[n,r]}(),s=a[0],i=a[1],u=(0,o.useRef)(null),l=(0,o.useCallback)((function(){window.confirm("Voulez-vous réinitialisez toutes les dépenses à zéro ?")&&i(m)}),[]),x=(0,o.useCallback)((function(e){t(parseFloat(e.currentTarget.value)||"")}),[]),g=(0,o.useCallback)((function(e){"number"==typeof n&&i((function(r){var o,a=(new Date).getTime(),s="".concat(e,":").concat(n,":").concat(a);return t(""),u.current&&u.current.focus(),y(y({},r),((o={})[s]={amount:n,name:e,timestamp:a,id:s},o))}))}),[n]),w=(0,o.useCallback)((function(e){i((function(n){return delete n[e],y({},n)}))}),[]),E=(0,o.useMemo)((function(){return function(e){return Object.values(e).reduce((function(e,n){var t;return d(d({},e),((t={})[n.name]=e[n.name]+n.amount,t))}),{emma:0,francois:0})}(s)}),[s]),N=(0,o.useMemo)((function(){return p(s,"emma")}),[s]),k=(0,o.useMemo)((function(){return p(s,"francois")}),[s]);return(0,r.jsxs)("div",{className:"expenses",children:[(0,r.jsxs)("header",{className:"expenses-header",children:[(0,r.jsx)("h3",{children:v(E)}),(0,r.jsxs)("div",{className:"expenses-amount",children:["Montant: ",(0,r.jsx)(f,{ref:u,value:n,type:"number",onChange:x,autoFocus:!0,step:"1",inputMode:"decimal"})]})]}),(0,r.jsxs)("div",{className:"expenses-content",children:[(0,r.jsxs)("div",{className:"expenses-list",children:[(0,r.jsx)(j,{title:"François",name:"francois",addExpense:g,amount:n,totalAmount:E.francois}),(0,r.jsx)(h,{removeExpense:w,items:k})]}),(0,r.jsxs)("div",{className:"expenses-list",children:[(0,r.jsx)(j,{title:"Emma",name:"emma",addExpense:g,amount:n,totalAmount:E.emma}),(0,r.jsx)(h,{removeExpense:w,items:N})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(c,{onClick:l,size:"medium",children:"Réinitialiser toutes les dépenses"})})]})};"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js")})),a.createRoot(function(){var e=document.getElementById("root");if(e)return e;var n=document.createElement("div");return n.id="root",document.body.appendChild(n),n}()).render((0,r.jsx)(o.StrictMode,{children:(0,r.jsx)((function(){return(0,r.jsx)(g,{})}),{})}))}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,e=[],r.O=function(n,t,o,a){if(!t){var s=1/0;for(l=0;l<e.length;l++){t=e[l][0],o=e[l][1],a=e[l][2];for(var i=!0,u=0;u<t.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](t[u])}))?t.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(l--,1);var c=o();void 0!==c&&(n=c)}}return n}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,o,a]},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={143:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,a,s=t[0],i=t[1],u=t[2],c=0;if(s.some((function(n){return 0!==e[n]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var l=u(r)}for(n&&n(t);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},t=self.webpackChunkhome_app=self.webpackChunkhome_app||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var o=r.O(void 0,[260],(function(){return r("./src/index.tsx")}));o=r.O(o)}();